name: upload-log-file
on: push
jobs:
  upload-log-file:
    runs-on: ubuntu-latest
    steps:
      - name: generate log file
        run: |
          cat sample.log
          echo "log file to be uploaded to artifact" > output.log
      - name: upload log file as artifact
        uses: actions/upload-artifact@v2
        if: failure()
        with:
          name: my-artifact
          path: output.log
          if-no-files-found: error # 'ignore' label can also be used